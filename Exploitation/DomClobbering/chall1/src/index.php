<?php
$NONCE = md5(rand());
?>

<html>
<head>
    <meta http-equiv="Content-Security-Policy" content="script-src 'nonce-<?php echo $NONCE?>'">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script  nonce=<?php echo $NONCE?> src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Note</title>
</head>
<body>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1>Note</h1>
        </div>
    </div>
   
    <div class="row">
        <div class="col-md-12">
            <label for="note">give a Note, prolly a get note</label>
        </div>

    <div id="content">
          <?php echo isset($_GET['note']) ? base64_decode($_GET['note']) : "no";?>
    </div>
    <script nonce=<?php echo $NONCE?> src="./badword.js" >
    </script>
    <script nonce=<?php echo $NONCE?>>
        var footer = '<a href="'+document.referrer+'">go back</a>';
        footer = '<div>'+footer+'</div>';
 
        content = $('#content').html();
        content += footer;
        content = content.replaceAll(bad1, good1);
        content = content.replaceAll(bad2, good2);
        content = content.replaceAll(bad3, good3);
        content = content.replaceAll(bad4, good4);
	console.log(content);
        $('#content').html(content);
    </script>
</div>
</body>
</html>