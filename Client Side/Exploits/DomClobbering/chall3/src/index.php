
<?php
$NONCE = md5(rand());

?>
<!DOCTYPE html>
<html>
<head>
    <title>chall2</title>
    <!--meta tag csp-->
    <meta http-equiv="Content-Security-Policy" content="script-src 'strict-dynamic' 'unsafe-eval'  'nonce-<?php echo $NONCE; ?>'">
</head>
<body>
    
    
    <div id="text">
        <?php echo isset($_GET['note']) ? substr(base64_decode($_GET['note']),0,85): "give me a note parameter";?>
    </div>
    
    <script  nonce="<?php echo $NONCE; ?>">
        let users = window.users ? window.users : [];
        if(users.length >3){
        if(users[0].username==="admin"&& users[0].password==="admin"){
           let script = document.createElement("script");
           script.src=decodeURIComponent(users.url);
           document.body.appendChild(script);
            
        }
    }
    </script>
</body>
</html>